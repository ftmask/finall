<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
      body {
        font-family: arial, sans-serif;
      }

      h1 {
        color: #7c7c7c;
        font-size: 24px;
        font-weight: 100;
        line-height: 28px;
        margin: 0;
      }

      ul {
        margin: 0 0 10px;
        padding: 0;
      }

      li {
        color: #7c7c7c;
        font-size: 16px;
        font-weight: 100;
        height: 19px;
        line-height: 1;
        list-style: none;
      }

      .weather-app {
        border: 1px solid #dadde1;
        padding: 15px;
        margin: 20px auto;
        border-radius: 10px;
        max-width: 600px;
      }

      .weather-icon {
        height: 64px;
        width: 64px;
        margin-right: 10px;
      }

      .temperature {
        color: rgb(33, 33, 33);
        font-size: 64px;
        font-weight: 400;
        line-height: 1;
      }

      .celsius {
        text-decoration: none;
      }
      .celsius:hover {
        text-decoration: navajowhite;
      }
      .farenheit {
        text-decoration: none;
      }
      .farenheit:hover {
        text-decoration: navajowhite;
      }

      .search-form {
        margin-bottom: 20px;
      }
      .weather-forecast {
        margin-top: 20px;
        text-align: center;
      }
      .weather-forecast-date {
        font-size: 16px;
        opacity: 0.5;
      }
      .weather-forecast-temperature {
        font-size: 13px;
      }
      .weather-forecast-temperature-min {
        opacity: 0.5;
      }
    </style>
    <title>Weather App</title>
  </head>

  <body>
    <div class="container">
      <div class="weather-app">
        <form class="search-form" id="search-form">
          <div class="row">
            <div class="col-6">
              <input
                type="search"
                placeholder="Type a city.."
                autofocus="on"
                autocomplete="off"
                id="city-input"
                class="form-control shadow-sm"
              />
            </div>
            <div class="col-3">
              <input
                type="submit"
                value="Search"
                class="form-control btn btn-primary shadow-sm w-100"
              />
            </div>
            <div class="col-3">
              <button
                class="btn btn-success w-100"
                id="current-location-button"
              >
                Current
              </button>
            </div>
          </div>
        </form>
        <h1 id="city"></h1>
        <ul>
          <li id="date"></li>
          <li id="description"></li>
        </ul>
        <div class="row">
          <div class="col-6">
            <div class="clearfix">
              <div class="float-left">
                <span class="temperature" id="temperature"></span
                ><a
                  href="file:///Users/fatemeh/Documents/shecodes/plus/ff.html"
                  class="celsius"
                  >째C</a
                >|<a
                  href="file:///Users/fatemeh/Documents/shecodes/plus/cc.html"
                  class="farenheit"
                  id="farenheit"
                  >째F</a
                >
              </div>
            </div>
          </div>
          <div class="col-6">
            <ul>
              <li>Humidity: <span id="humidity"></span>%</li>
              <li>Wind: <span id="wind"></span> km/h</li>
            </ul>
          </div>
        </div>
        <div class="weather-forecast">
          <div class="row">
            <div class="col-2">
              <div class="weather-forecast-date">Thu</div>
              <img
                src="data:image/jpeg;base64,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"
                alt=""
                width="42"
              />
              <div class="weather-forecast-temperature">
                <span class="weather-forecast-temperature-max">18째</span>
                <span class="weather-forecast-temperature-min">12째</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    function formatDate(date) {
      let hours = date.getHours();
      if (hours < 10) {
        hours = `0${hours}`;
      }
      let minutes = date.getMinutes();
      if (minutes < 10) {
        minutes = `0${minutes}`;
      }

      let dayIndex = date.getDay();
      let days = [
        "Sunday",
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday",
      ];
      let day = days[dayIndex];

      return `${day} ${hours}:${minutes}`;
    }

    function displayWeatherCondition(response) {
      let temperatureElement = document.querySelector("#temperature");
      let cityElement = document.querySelector("#city");
      let descriptionElement = document.querySelector("#description");
      let humidityElement = document.querySelector("#humidity");
      let windElement = document.querySelector("#wind");
      let dateElement = document.querySelector("#date");
      let iconElement = document.querySelector("#icon");
      celsiusTemperature = response.data.main.temp;
      document.querySelector("#city").innerHTML = response.data.name;

      document.querySelector("#temperature").innerHTML = Math.round(
        response.data.main.temp
      );

      document.querySelector("#humidity").innerHTML =
        response.data.main.humidity;
      document.querySelector("#wind").innerHTML = Math.round(
        response.data.wind.speed
      );
      document.querySelector("#description").innerHTML =
        response.data.weather[0].main;
    }

    function searchCity(city) {
      let apiKey = "5f472b7acba333cd8a035ea85a0d4d4c";
      let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
      axios.get(apiUrl).then(displayWeatherCondition);
    }

    function handleSubmit(event) {
      event.preventDefault();
      let city = document.querySelector("#city-input").value;
      searchCity(city);
    }

    function searchLocation(position) {
      let apiKey = "5f472b7acba333cd8a035ea85a0d4d4c";
      let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude}&lon=${position.coords.longitude}&appid=${apiKey}&units=metric`;

      axios.get(apiUrl).then(displayWeatherCondition);
    }

    function getCurrentLocation(event) {
      event.preventDefault();
      navigator.geolocation.getCurrentPosition(searchLocation);
    }

    function displayFarenheitTemperature(event) {
      event.preventDefault();

      let temperatureElement = document.querySelector("#temperature");
      let farenheitTemperature = (celsiusTemperature * 9) / 5 + 32;
      temperatureElement.innerHTML = Math.round(farenheitTemperature);
    }

    let dateElement = document.querySelector("#date");
    let currentTime = new Date();
    dateElement.innerHTML = formatDate(currentTime);

    let searchForm = document.querySelector("#search-form");
    searchForm.addEventListener("submit", handleSubmit);

    let currentLocationButton = document.querySelector(
      "#current-location-button"
    );
    currentLocationButton.addEventListener("click", getCurrentLocation);

    searchCity("New York");
    let farenheitLink = document.querySelector("#farenheit");
    farenheitLink.addEventListener("click", displayFarenheitTemperature);
  </script>
</html>
